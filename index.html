<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="manifest" href="manifest.json" />
<meta name="theme-color" content="#4a90e2" />
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ADHD Interactive Helper</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0; padding: 20px;
    background: #f4f4f9;
    color: #333;
  }
  h1, h2 {
    text-align: center;
    color: #4a90e2;
  }
  section {
    background: white;
    max-width: 600px;
    margin: 1em auto;
    padding: 1em 1.5em;
    border-radius: 8px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
  }
  label {
    display: block;
    margin-top: 0.8em;
    font-weight: bold;
  }
  input[type=text], textarea {
    width: 100%;
    padding: 0.5em;
    margin-top: 0.3em;
    border-radius: 4px;
    border: 1px solid #ccc;
    box-sizing: border-box;
    font-size: 1em;
  }
  button {
    margin-top: 1em;
    padding: 0.6em 1.2em;
    font-size: 1em;
    border-radius: 5px;
    border: none;
    background: #4a90e2;
    color: white;
    cursor: pointer;
    transition: background 0.3s ease;
  }
  button:hover {
    background: #357ABD;
  }
  .timer-buttons button {
    margin: 0.3em 0.4em 0 0;
  }
  #timer-display {
    font-size: 2em;
    text-align: center;
    margin-top: 0.5em;
    color: #4a90e2;
  }
  #smart-goal-output {
    margin-top: 1em;
    padding: 0.8em;
    background: #e3f2fd;
    border-left: 5px solid #2196F3;
    border-radius: 4px;
    font-style: italic;
  }
</style>
</head>
<body>

<h1>ADHD Interactive Helper</h1>

<section id="smart-goal-section">
  <h2>SMART Goal Builder</h2>
  <label for="specific">Specific</label>
  <input type="text" id="specific" placeholder="What exactly do you want to do?" />
  
  <label for="measurable">Measurable</label>
  <input type="text" id="measurable" placeholder="How will you know it's done?" />
  
  <label for="achievable">Achievable</label>
  <input type="text" id="achievable" placeholder="Is it realistic? If not, which one part is?" />
  
  <label for="relevant">Relevant</label>
  <input type="text" id="relevant" placeholder="Why is it important?" />
  
  <label for="timebound">Time-bound</label>
  <input type="text" id="timebound" placeholder="By when?" />
  
  <button id="build-goal-btn">Build Goal</button>
  <div id="smart-goal-output"></div>
</section>

<section id="timer-section">
  <h2>Timers</h2>
  <div class="timer-buttons">
    <button data-minutes="2">2 min</button>
    <button data-minutes="5">5 min</button>
    <button data-minutes="10">10 min</button>
    <button data-minutes="15">15 min</button>
    <button data-minutes="25">25 min</button>
  </div>
  <div id="timer-display">00:00</div>
  <div style="text-align:center; margin-top:10px;">
    <button id="start-timer-btn">Start</button>
    <button id="pause-timer-btn">Pause</button>
    <button id="reset-timer-btn">Reset</button>
  </div>
</section>

<section id="rain-section">
  <h2>RAIN Reflection</h2>
  <label for="recognize">Recognize (What am I feeling?)</label>
  <textarea id="recognize" rows="2" placeholder="Describe your feelings..."></textarea>
  
  <label for="allow">Allow (Can I let it be here?)</label>
  <textarea id="allow" rows="2" placeholder="Let the feelings be..."></textarea>
  
  <label for="investigate">Investigate (Why is it here?)</label>
  <textarea id="investigate" rows="2" placeholder="Look deeper..."></textarea>
  
  <label for="nurture">Nurture (What do I need now?)</label>
  <textarea id="nurture" rows="2" placeholder="Offer yourself kindness..."></textarea>
  
  <button id="save-rain-btn">Save Reflection</button>
  <button id="load-rain-btn">Load Last Reflection</button>
  <div id="rain-status" style="margin-top:10px; font-style: italic; color: #4a90e2;"></div>
</section>

<script>
  // SMART Goal Builder
  const buildGoalBtn = document.getElementById('build-goal-btn');
  const goalOutput = document.getElementById('smart-goal-output');
  
  buildGoalBtn.addEventListener('click', () => {
    const specific = document.getElementById('specific').value.trim();
    const measurable = document.getElementById('measurable').value.trim();
    const achievable = document.getElementById('achievable').value.trim();
    const relevant = document.getElementById('relevant').value.trim();
    const timebound = document.getElementById('timebound').value.trim();
    
    if (!specific || !measurable || !achievable || !relevant || !timebound) {
      goalOutput.textContent = 'Please fill in all SMART fields.';
      goalOutput.style.color = 'red';
      return;
    }
    
    const fullGoal = `I will ${specific}. This will look like ${measurable}. My minimum achievement will be ${achievable} This is relevant because ${relevant}, and I will try to complete it by ${timebound}.`;
    goalOutput.textContent = fullGoal;
    goalOutput.style.color = '#2196F3';
  });

  // Timers
  const timerDisplay = document.getElementById('timer-display');
  const startBtn = document.getElementById('start-timer-btn');
  const pauseBtn = document.getElementById('pause-timer-btn');
  const resetBtn = document.getElementById('reset-timer-btn');
  const timerButtons = document.querySelectorAll('.timer-buttons button');
  
  let countdown = 0;
  let timerInterval = null;
  let timerRunning = false;
  
  function formatTime(seconds) {
    const m = Math.floor(seconds / 60).toString().padStart(2,'0');
    const s = (seconds % 60).toString().padStart(2,'0');
    return `${m}:${s}`;
  }
  
  function updateDisplay() {
    timerDisplay.textContent = formatTime(countdown);
  }
  
  function startTimer() {
    if(timerRunning || countdown <= 0) return;
    timerRunning = true;
    timerInterval = setInterval(() => {
      countdown--;
      updateDisplay();
      if(countdown <= 0) {
        clearInterval(timerInterval);
        timerRunning = false;
        alert('Time is up!');
      }
    }, 1000);
  }
  
  function pauseTimer() {
    if(!timerRunning) return;
    clearInterval(timerInterval);
    timerRunning = false;
  }
  
  function resetTimer() {
    pauseTimer();
    countdown = 0;
    updateDisplay();
  }
  
  timerButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      resetTimer();
      countdown = parseInt(btn.dataset.minutes) * 60;
      updateDisplay();
    });
  });
  
  startBtn.addEventListener('click', startTimer);
  pauseBtn.addEventListener('click', pauseTimer);
  resetBtn.addEventListener('click', resetTimer);
  
  updateDisplay();

  // RAIN Reflection
  const saveRainBtn = document.getElementById('save-rain-btn');
  const loadRainBtn = document.getElementById('load-rain-btn');
  const rainStatus = document.getElementById('rain-status');
  
  saveRainBtn.addEventListener('click', () => {
    const recognize = document.getElementById('recognize').value;
    const allow = document.getElementById('allow').value;
    const investigate = document.getElementById('investigate').value;
    const nurture = document.getElementById('nurture').value;
    
    const reflection = { recognize, allow, investigate, nurture, timestamp: new Date().toISOString() };
    localStorage.setItem('rainReflection', JSON.stringify(reflection));
    rainStatus.textContent = 'Reflection saved!';
    setTimeout(() => rainStatus.textContent = '', 3000);
  });
  
  loadRainBtn.addEventListener('click', () => {
    const saved = localStorage.getItem('rainReflection');
    if(!saved) {
      rainStatus.textContent = 'No saved reflection found.';
      setTimeout(() => rainStatus.textContent = '', 3000);
      return;
    }
    const reflection = JSON.parse(saved);
    document.getElementById('recognize').value = reflection.recognize || '';
    document.getElementById('allow').value = reflection.allow || '';
    document.getElementById('investigate').value = reflection.investigate || '';
    document.getElementById('nurture').value = reflection.nurture || '';
    rainStatus.textContent = 'Reflection loaded!';
    setTimeout(() => rainStatus.textContent = '', 3000);
  });
</script>

</body>
</html>



